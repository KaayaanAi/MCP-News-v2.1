# MCP-NEWS-V2.1 Configuration
# Copy this file to .env and configure your environment
# Enhanced with security defaults and production-ready settings

# ====================================
# Core Server Configuration
# ====================================
NODE_ENV=development
LOG_LEVEL=info

# Protocol Ports (0 disables the protocol)
HTTP_PORT=4009
WEBSOCKET_PORT=4010
SSE_PORT=4011
STDIO_ENABLED=true

# ====================================
# Security & Authentication
# ====================================
# API Key for HTTP, WebSocket, and SSE endpoints
API_KEY=your_secure_api_key_here

# CORS Configuration (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Rate Limiting (requests per minute)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ====================================
# External Services
# ====================================
# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_COMPLETION_TOKENS=2000
OPENAI_TEMPERATURE=0.7
OPENAI_MAX_RETRIES=3
OPENAI_TIMEOUT_MS=30000

# Redis Configuration (optional - uses memory cache if not provided)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_TTL=3600
REDIS_MAX_RETRIES=3
REDIS_CONNECT_TIMEOUT_MS=10000

# ====================================
# News Data Sources Configuration
# ====================================
# External news APIs (optional)
NEWS_API_KEY=your_news_api_key_here
COINDESK_API_URL=https://api.coindesk.com/v1
CRYPTO_PANIC_API_KEY=your_crypto_panic_api_key_here

# ====================================
# Application Behavior
# ====================================
# Cache settings
CACHE_TTL_SECONDS=3600
ENABLE_CACHE=true
CACHE_MAX_SIZE=1000

# Analysis settings
DEFAULT_ANALYSIS_DEPTH=comprehensive
MAX_NEWS_RESULTS=100
ANALYSIS_TIMEOUT_MS=30000
MAX_CONCURRENT_ANALYSIS=5

# Webhook settings (optional)
WEBHOOK_SECRET=your_webhook_secret_here
WEBHOOK_TIMEOUT_MS=5000

# ====================================
# Development & Debugging
# ====================================
# Enable detailed logging
DEBUG=mcp:*
PRETTY_LOGS=true
LOG_FILE_PATH=./logs/mcp-news.log
LOG_MAX_SIZE=50MB
LOG_MAX_FILES=10

# Development mode settings
HOT_RELOAD=true
MOCK_EXTERNAL_APIS=false

# ====================================
# Performance & Resource Management
# ====================================
# Memory limits
NODE_OPTIONS="--max-old-space-size=1024"
MAX_MEMORY_USAGE_MB=900

# Connection pooling
MAX_CONNECTIONS=100
CONNECTION_TIMEOUT_MS=30000
KEEP_ALIVE_TIMEOUT_MS=5000

# Request limits
MAX_REQUEST_SIZE=10MB
REQUEST_TIMEOUT_MS=120000